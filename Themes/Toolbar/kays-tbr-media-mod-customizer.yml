id: "@k-ivy/tbr-media-custom"
metadata:
  displayName: "Media Module Player Customizer"
  description: "Allows to add filters to the toolbar media module's player and scale effect on buttons."
  author: "K-Ivy"
  tags: ['weg', 'toolbar']
  appTargetVersion:
    - 2
    - 4
    - 7
settings:
  - syntax: <url>
    name: '--morks-sotjs-sorkas'
    label: "v1.1"
    description: "Report any bugs/issues or suggest features on my github page or in #resources post in the Seelen UI Discord."
    initialValue: 'https://github.com/K-Ivy/Seelen-UI-Resources/tree/main'

  - group:
      header: "✦ Buttons"
      items:
        - syntax: <length>
          name: '--tbr-mediapl-btn-base-size'
          label: "● Base Size"
          initialValue: 1
          initialValueUnit: 'em'

        - syntax: <string>
          name: '--tbr-mediapl-btn-scale-hover'
          label: "╰─ Scale on Hover"
          initialValue: '1.12'

        - syntax: <length>
          name: '--tbr-mediapl-btn-pos-curr'
          label: "╰─ Position on Hover"
          tip: "Y-Pos"
          initialValue: 1
          initialValueUnit: 'px'

        - syntax: <string>
          name: '--tbr-mediapl-btn-transition'
          label: "╰・Scale Transition"
          tip: "~~ ms/s ease, ease-in, ease-out, ease-in-out, linear, cubic-bezier(x1,y1,x2,y2)"
          initialValue: '0.2s ease'

  - group:
      header: "✦ Filter Effects"
      items:
        - syntax: <string>
          name: '--tbr-mediapl-grayscale'
          label: "● Grayscale"
          tip: "0 = full color, 1 = fully grayscaled"
          initialValue: '0'

        - syntax: <string>
          name: '--tbr-mediapl-grayscale-hover'
          label: "╰・Grayscale on Hover"
          initialValue: '0'

        - syntax: <string>
          name: '--tbr-mediapl-brightness'
          label: "● Brightness"
          tip: "lower than 1 = dimmer, higher than 1 = brighter"
          initialValue: '1'

        - syntax: <string>
          name: '--tbr-mediapl-brightness-hover'
          label: "╰・Brightness on Hover"
          initialValue: '1'

        - syntax: <string>
          name: '--tbr-mediapl-contrast'
          label: "● Contrast"
          tip: "lower than 1 = less, higher than 1 = greater"
          initialValue: '1'

        - syntax: <string>
          name: '--tbr-mediapl-contrast-hover'
          label: "╰・Contrast on Hover"
          initialValue: '1'

        - syntax: <string>
          name: '--tbr-mediapl-hue-rotate'
          label: "● Color Hue"
          tip: "Rotate color from 0 to 360 degrees"
          initialValue: '0deg'

        - syntax: <string>
          name: '--tbr-mediapl-hue-rotate-hover'
          label: "╰・Hue on Hover"
          initialValue: '0deg'

        - syntax: <string>
          name: '--tbr-mediapl-invert'
          label: "● Color Invert"
          tip: "0 = normal, 1 = fully inverted"
          initialValue: '0'

        - syntax: <string>
          name: '--tbr-mediapl-invert-hover'
          label: "╰・Invert on Hover"
          initialValue: '0'

        - syntax: <string>
          name: '--tbr-mediapl-saturate'
          label: "● Saturation"
          tip: "lower than 1 = desaturated, higher than 1 = saturated"
          initialValue: '1'

        - syntax: <string>
          name: '--tbr-mediapl-saturate-hover'
          label: "╰・Saturation on Hover"
          initialValue: '1'

        - syntax: <string>
          name: '--tbr-mediapl-sepia'
          label: "● Sepia"
          tip: "0 = none, 1 = full sepia"
          initialValue: '0'

        - syntax: <string>
          name: '--tbr-mediapl-sepia-hover'
          label: "╰・Sepia on Hover"
          initialValue: '0'

        - syntax: <string>
          name: '--tbr-mediapl-opacity'
          label: "● Opacity"
          tip: "1 = fully visible, 0 = transparent"
          initialValue: '1'

        - syntax: <string>
          name: '--tbr-mediapl-opacity-hover'
          label: "╰・Opacity on Hover"
          initialValue: '1'

        - syntax: <string>
          label: "● Drop Shadow"
          tip: "<offset-x> <offset-y> <blur-radius> <color> — e.g. rgba(0,0,0,0.4)"
          name: '--tbr-mediapl-drop-shadow'
          initialValue: '0px 0px 0px rgba(0, 0, 0, 0.445)'

        - syntax: <string>
          name: '--tbr-mediapl-drop-shadow-hover'
          label: "╰・Shadow on Hover"
          initialValue: '0px 0px 0px rgba(0, 0, 0, 0.445)'

        - syntax: <string>
          name: '--tbr-mediapl-filter-transition'
          label: "● Filter Transition"
          tip: "~~ ms/s ease, ease-in, ease-out, ease-in-out, linear, cubic-bezier(x1,y1,x2,y2)"
          initialValue: '0.4s ease'
styles:
  "@seelen/fancy-toolbar": |
    .media-session {
      filter:
        brightness(var(--tbr-mediapl-brightness, 1))
        contrast(var(--tbr-mediapl-contrast, 1))
        grayscale(var(--tbr-mediapl-grayscale, 0))
        hue-rotate(var(--tbr-mediapl-hue-rotate, 0deg))
        invert(var(--tbr-mediapl-invert, 0))
        opacity(var(--tbr-mediapl-opacity, 1))
        saturate(var(--tbr-mediapl-saturate, 1))
        sepia(var(--tbr-mediapl-sepia, 0))
        drop-shadow(var(--tbr-mediapl-drop-shadow, 0px 0px 0px rgba(0, 0, 0, 0.445))) !important;
      transition: 
        filter var(--tbr-mediapl-filter-transition, 0.4s ease) !important;

      &:hover {
        filter:
          brightness(var(--tbr-mediapl-brightness-hover, 1))
          contrast(var(--tbr-mediapl-contrast-hover, 1))
          grayscale(var(--tbr-mediapl-grayscale-hover, 0))
          hue-rotate(var(--tbr-mediapl-hue-rotate-hover, 0deg))
          invert(var(--tbr-mediapl-invert-hover, 0))
          opacity(var(--tbr-mediapl-opacity-hover, 1))
          saturate(var(--tbr-mediapl-saturate-hover, 1))
          sepia(var(--tbr-mediapl-sepia-hover, 0))
          drop-shadow(var(--tbr-mediapl-drop-shadow-hover, 0px 0px 0px rgba(0, 0, 0, 0.445))) !important;
      }
    }

    .media-session .media-session-actions button i svg {
      width: var(--tbr-mediapl-btn-base-size, 1em) !important;
      height: var(--tbr-mediapl-btn-base-size, 1em) !important;
      transition: transform var(--tbr-mediapl-btn-transition, 0.2s ease) !important;
    }

    .media-session .media-session-actions button:hover i svg {
      transform: scale(var(--tbr-mediapl-btn-scale-hover, 1.12)) translateY(var(--tbr-mediapl-btn-pos-curr, 1px)) !important;
    }